var block,c,url,w=document.querySelector(".width"),h=document.querySelector(".height"),r=document.querySelector(".result"),bg=document.querySelector(".bgColor"),genBtn=document.querySelector(".gen"),dl=document.querySelector(".download"),canva=document.querySelector(".block"),typeAndDownloadImage=document.querySelector(".type_and_download_image"),imageType=document.querySelector("#imageType"),quality=document.querySelector(".quality"),quality_value=document.querySelector("#quality_value");function createCanvas(){""===w.value||w.value.match(/\s{1,}/)?(r.innerHTML="<span>Please insert width of the image.</span>",w.focus(),typeAndDownloadImage.style.display="none"):isNaN(w.value)?(r.innerHTML=`<span>"${w.value}" is not a correct width value. Try - 45 / 50 / 85. kiddo!!</span>`,w.focus(),typeAndDownloadImage.style.display="none"):""===h.value||h.value.match(/\s{1,}/)?(r.innerHTML="<span>Please insert height of the image.</span>",h.focus(),typeAndDownloadImage.style.display="none"):isNaN(h.value)?(r.innerHTML=`<span>"${h.value}" is not a correct height value. Try - 45 / 50 / 85. kiddo!!</span>`,h.focus(),typeAndDownloadImage.style.display="none"):(r.innerHTML="",canva.style.display="block",canva.setAttribute("width",parseInt(w.value)+"px"),canva.setAttribute("height",parseInt(h.value)+"px"),(c=canva.getContext("2d")).fillStyle=bg.value,c.fillRect(0,0,w.value,h.value),c.font=w.value/15+"px Helvetica",c.fillStyle="#fff",c.textAlign="center",c.fillText(w.value+"px / "+h.value+"px",w.value/2,h.value/2),r.appendChild(canva),typeAndDownloadImage.style.display="block",url=canva.toDataURL())}function downloadImage(){url?(this.setAttribute("href",url),this.setAttribute("download","new-generate-image-kiddo")):alert("Please choose a image format first.")}imageType.addEventListener("input",function(){"png"===this.value?quality.style.display="none":(url=canva.toDataURL("image/jpeg"),quality.style.display="block")}),quality_value.addEventListener("input",function(){url="low"===this.value?canva.toDataURL("image/jpeg",.1):"med"===this.value?canva.toDataURL("image/jpeg",.6):canva.toDataURL("image/jpeg",1)}),genBtn.addEventListener("click",createCanvas),dl.addEventListener("click",downloadImage);
